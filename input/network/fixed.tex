

\section{Taille fixe}
\label{net:sec:fixed}

Les protocoles d'échantillonnage aléatoire de pairs peuplant des vues dont la
taille est constante possèdent un socle commun à savoir l'échanges périodiques
de voisinages.

\begin{itemize}
\item [\textbf{\CYCLON~\cite{voulgaris2005cyclon} :}] est un protocole où chaque
  nœud possède une vue partielle dont chaque adresse logique est associée à un
  âge. Régulièrement, les nœuds initient un mélange (\emph{shuffling}) avec leur
  voisin le plus âgé. Si la communication est possible, le processus est amorcé
  et l'âge de tous les voisins est incrémenté, sinon l'adresse est
  supprimée. Cela permet de supprimer les nœuds considérés comme partis.

  Lors de ce mélange, le nœud envoit un nombre prédéfinit de ses adresses
  logiques au nœud choisit, en prenant soin de remplacer l'adresse de son
  homologue par la sienne propre. Les adresses sont choisies aléatoirement. À la
  reception, son vis-à-vis choisit un nombre d'adresses équivalent et les lui
  envoie. Les deux nœuds intègrent alors l'ensemble qu'ils ont réçu. Lorsque
  l'ensemble obtenu est trop grand pour la taille de vue partielle prédéfinie,
  des adresses sont supprimées en conservant de préférence les adresses réçues
  et en supprimant les duplicats.
  
  \begin{figure}
    \centering
    \subfloat[Choix aléatoire des pairs dans \CYCLON.]
    [\label{net:fig:cyclonexampleA} L'initiateur du mélange choisit d'envoyer $n_5$ et lui-même à son plus vieux voisin $n_2$. En retour, il lui propose $n_6$ et $n_7$.]
    {\input{input/network/cyclonexampleA.tex}}
    \hspace{35pt}
    \subfloat[Établissement des connexions après le mélange dans \CYCLON.]
    [\label{net:fig:cyclonexampleB} Les arcs sont échangés de part et d'autre.]
    {\input{input/network/cyclonexampleB.tex}}
    \caption{\label{net:fig:cyclonexample} Exemple de mélange dans \CYCLON. Pour
      améliorer la lisibilité, seuls les vues partielles du $n_1$ et $n_2$ sont
      explicitées.}
  \end{figure}
  
  La figure~\ref{net:fig:cyclonexample} décrit un exemple de mélange initié par
  le nœud $n_1$. Dans cet exemple, les vues partielles sont configurées pour
  accueillir 4 arcs et en échanger 2 pendant les mélanges. La
  figure~\ref{net:fig:cyclonexampleA} montre que $n_1$ choisit son plus vieux
  voisin afin d'initier l'échange, à savoir $n_2$. Il incorpore dans l'échange
  sa propre identité ainsi que celle d'un arc connu aléatoirement. Le nœud $n_2$
  réçoit la demande de mélange et choisit 2 nœuds aléatoirement, ici $n_6$ et
  $n_7$ qu'il envoit à son tour. La figure~\ref{net:fig:cyclonexampleB} montre
  que les nœuds participants au mélange ont supprimé les arcs qu'ils ont envoyé
  et ajouté ceux nouvellement reçu. En particulier, l'inversion de l'arc ayant
  permi le mélange garantit que le graphe reste connexe.

\item [\textbf{Newscast~\cite{tolgyeski2009adaptive} :}] est un protocole où les
  vues partielles associent à chaque adresse logique une estampille
  (\emph{timestamp}). Périodiquement, les nœuds de Newscast effectuent un
  mélange périodique. Pour cela, ils choisissent l'un de leurs voisins
  aléatoirement et envoient la totalité de leur vue partielle à laquelle est
  ajoutée leur propre adresse associée à une estampille à jour. Lors de la
  récéption, leur homologue en fait de même. Tout deux fusionnent leur table de
  voisinnage de telle sorte que seules les entrées les plus récentes selon
  l'estampille sont conservées.

  Un nœud qui quitte le réseau n'effectue plus ce mélange périodique et ainsi
  n'annonce plus sa présence au reste du réseau. Petit à petit, les vues
  partielles le contenant se débarassent de l'adresse logique menant à lui car
  obsolète comparativement à celles nouvellement réçues.

  Les pertes de messages dûes à la non-fiabilité des communications mettent en
  dangers la distribution des arcs. Par exemple, si un message sur deux est
  perdu lorsqu'un certain nœuds tente de communiquer, il perd tout autant
  d'occasions de s'annoncer au réseau. Par conséquent, il encourt le risque
  d'être évincé de certaines vues partielles, voir de disparaître
  complètement. En d'autres termes, le nœud est moins bien connecté que les
  autres à cause de ces messages perdus. Newscast propose de compenser
  cela. Ainsi, si un nœud perd un message sur deux, il emet deux fois plus. La
  distribution des arcs s'en trouve ajustée.

  \begin{figure}
    \centering
    \subfloat[Initiation du mélange dans Newscast.]
    [\label{net:fig:newscastexampleA} L'initiateur du mélange $n_2$ aléatoirement et lui envoit sa vue à laquelle il s'ajoute avec une estampille à jour. À la reception, $n_2$ en fait de même.]
    {\input{input/network/newscastexampleA.tex}}
    \hspace{35pt}
    \subfloat[Établissement des connexions après le mélange dans Newscast.]
    [\label{net:fig:newscastexampleB} Les arcs sont échangés de part et d'autre en conservant les estampilles les plus récentes.]
    {\input{input/network/newscastexampleB.tex}}
    \caption{\label{net:fig:newscastexample} Exemple de mélange dans
      Newscast. Ici, les estampilles sont simplement formatées hh:mm.}
  \end{figure}

  La figure~\ref{net:fig:newscastexample} montre un exemple de mélange avec le
  protocole Newscast. Là encore, la taille des vues partielles est fixée à 4
  entrées. Le pair $n_1$ initie le mélange avec un voisin aléatoire $n_2$. Il
  envoit l'intégralité de sa vue à laquelle il s'ajoute avec l'estampille
  actuelle 13:18. Le nœud $n_2$ le reçoit et en fait de même. Les deux nœuds
  $n_1$ et $n_2$ conservent les quatres arcs les plus récents qu'ils possèdent,
  à savoir les arcs vers leur homologue, $n_4$, $n_5$ et $n_9$. La
  figure~\ref{net:fig:newscastexampleB} nous permet de remarquer que le réseau
  semble collapser. En particulier, certains pairs ne sont plus référencés ni
  par $n_1$, ni par $n_2$. Toutefois, il ne s'agit là que de la représentation
  locale au mélange. Globalement, la topologie résultante est proche de celle
  des graphes aléatoires.

\item [\textbf{Lpbcast~\cite{eugster2003lightweight} :}] est le diminutif de
  \emph{lightweight probabilistic broadcast}. C'est un protocole dont les vues
  partielles ne comprennent que des adresses logiques. C'est lorsqu'un pair
  diffuse un message au réseau que les vues sont mises à jour. Chaque message
  comporte un ensemble borné d'identités de nœuds ayant quitté le réseau, et un
  ensemble borné d'identités de nœuds échantillonnés au cours du cheminement du
  message. Si aucun message n'a été réçu ni envoyé dans un certain intervalle de
  temps, une diffusion est automatiquement générée afin d'activer le méchanisme
  de mélange.

  Lors de la réception de tels messages, un nœud peuple sa propre vue partielle
  des nouveaux éléments présent dans le message avant de la réajuster à la
  taille maximale autorisée en supprimant aléatoirement des arcs.

\item [\textbf{HyParView~\cite{leitao2007dependable} :}] est un protocole
  possédant deux vues partielles. La première est active et est utilisée lors de
  l'émission de messages au réseau. La seconde est passive et sert à remplacer
  les arcs obsolètes de la vue active, e.g., lors d'une défaillance ou d'un
  départ volontaire.  La vue active est considérablement plus petite que la vue
  passive et les arcs compris dans cette première sont vérifiés à chaque message
  émit.

  Lors d'un mélange, les arcs contenus dans les deux vues sont sujets à échange
  dans le but de supprimer les nœuds défaillants de toutes les vues
  passives. Similairement à \CYCLON, les arcs privilégiés sont ceux nouvellement
  réçus. 
\end{itemize}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../paper"
%%% End:
